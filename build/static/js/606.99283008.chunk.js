"use strict";(self.webpackChunkmfl_bot_web_app=self.webpackChunkmfl_bot_web_app||[]).push([[606],{606:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var i=n(214),s=n(861),r=n(152);var a=n(791),c=n(776),l=n(184),o=100;var u=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=a.useState(!0),n=(0,r.Z)(t,2),u=n[0],f=n[1],d=a.useState(!1),p=(0,r.Z)(d,2),h=p[0],m=p[1],v=a.useState(0),x=(0,r.Z)(v,2),g=x[0],_=x[1],j=a.useState([]),b=(0,r.Z)(j,2),Z=b[0],w=b[1],N=a.useState(!1),k=(0,r.Z)(N,2),S=k[0],C=k[1];function y(e){return E.apply(this,arguments)}function E(){return E=(0,s.Z)((0,i.Z)().mark((function e(t){var n,s,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,s=t.offset,m(!1),f(!0),e.prev=3,e.next=6,c.Z.getRating({limit:n,offset:s});case 6:(r=e.sent).length<o&&C(!0),w((function(e){return e.concat(r)})),_((function(e){return e+1})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),m(!0);case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])}))),E.apply(this,arguments)}return a.useEffect((function(){console.log("render",Z,g,u),y({limit:o,offset:0})}),[]),(0,l.jsxs)("div",{id:"rating-app",children:[u&&0===g&&(0,l.jsx)("h2",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),0!==Z.length||u||h?(0,l.jsx)("div",{className:"rating-list",children:Z.map((function(e){var t;return t=1===+e.position?"\ud83e\udd47":2===+e.position?"\ud83e\udd48":3===+e.position?"\ud83e\udd49":"#".concat(e.position," "),(0,l.jsxs)("div",{className:"rating-list-item",children:[(0,l.jsx)("div",{className:"rating-list-item__prefix",children:t}),(0,l.jsxs)("div",{className:"rating-list-item__username",children:["@",e.username]}),(0,l.jsxs)("div",{className:"rating-list-item__points",children:[e.points,"\u043e\u0447."]})]},e.username)}))}):(0,l.jsx)("h3",{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0443\u0441\u0442."}),(0,l.jsxs)("div",{className:"rating-footer",children:[h&&(0,l.jsx)("div",{className:"loading-error",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),(0===g&&h||0!==g)&&!S&&(0,l.jsx)("div",{className:"more-btn".concat(u?" disabled":""),onClick:function(){return!u&&y({limit:o,offset:g*o})},children:u?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0443\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"})]})]})}}}]);
//# sourceMappingURL=606.99283008.chunk.js.map